(c);if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(s),!0;if(!this._parse(s))return u.appendChild(new L("${"+c+":")),s.children.forEach(u.appendChild,u),!0}else return this._accept(6)?this._parseTransform(s)?(u.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(s),!0):this._backTo(n)}_parseTransform(u){const c=new b;let n="",l="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,n+=s;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,c.appendChild(new L(s));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){l+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(n,l)}catch{return!1}return u.transform=c,!0}_parseFormatString(u){const c=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);const l=this._accept(8,!0);if(l)if(n){if(this._accept(4))return u.appendChild(new S(Number(l))),!0;if(!this._accept(1))return this._backTo(c),!1}else return u.appendChild(new S(Number(l))),!0;else return this._backTo(c),!1;if(this._accept(6)){const s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(c),!1):(u.appendChild(new S(Number(l),s)),!0)}else if(this._accept(11)){const s=this._until(4);if(s)return u.appendChild(new S(Number(l),void 0,s,void 0)),!0}else if(this._accept(12)){const s=this._until(4);if(s)return u.appendChild(new S(Number(l),void 0,void 0,s)),!0}else if(this._accept(13)){const s=this._until(1);if(s){const a=this._until(4);if(a)return u.appendChild(new S(Number(l),void 0,s,a)),!0}}else{const s=this._until(4);if(s)return u.appendChild(new S(Number(l),void 0,void 0,s)),!0}return this._backTo(c),!1}_parseAnything(u){return this._token.type!==14?(u.appendChild(new L(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ae[1196],le([1,0,14,2,352]),function(J,e,t,m,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(w,I,b,S){this._disposables=new m.DisposableStore,this._disposables.add(b.onDidSuggest(C=>{C.completionModel.items.length===0&&this.reset()})),this._disposables.add(b.onDidCancel(C=>{this.reset()})),this._disposables.add(I.onDidShow(()=>this._onItem(I.getFocusedItem()))),this._disposables.add(I.onDidFocus(this._onItem,this)),this._disposables.add(I.onDidHide(this.reset,this)),this._disposables.add(w.onWillType(C=>{if(this._active&&!I.isFrozen()&&b.state!==0){const r=C.charCodeAt(C.length-1);this._active.acceptCharacters.has(r)&&w.getOption(0)&&S(this._active.item)}}))}_onItem(w){if(!w||!(0,t.isNonEmptyArray)(w.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===w.item)return;const I=new R.CharacterSet;for(const b of w.item.completion.commitCharacters)b.length>0&&I.add(b.charCodeAt(0));this._active={acceptCharacters:I,item:w}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(ae[1197],le([1,0,2]),function(J,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class m{constructor(L,k){this._disposables=new t.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(L.onWillType(()=>{if(!this._empty||!L.hasModel())return;const w=L.getSelections(),I=w.length;let b=!1;for(let C=0;C<I;C++)if(!w[C].isEmpty()){b=!0;break}if(!b)return;this._lastOvertyped=[];const S=L.getModel();for(let C=0;C<I;C++){const r=w[C];if(S.getValueLengthInRange(r)>m._maxSelectionLength)return;this._lastOvertyped[C]={value:S.getValueInRange(r),multiline:r.startLineNumber!==r.endLineNumber}}this._empty=!1})),this._disposables.add(k.onDidCancel(w=>{!this._empty&&!w.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(L){if(!this._empty&&L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=m,m._maxSelectionLength=51200}),define(ae[728],le([1,0,14,19,727]),function(J,e,t,m,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static async create(w,I){if(!I.getOption(108).localityBonus||!I.hasModel())return L.None;const b=I.getModel(),S=I.getPosition();if(!w.canComputeWordRanges(b.uri))return L.None;const[C]=await new R.BracketSelectionRangeProvider().provideSelectionRanges(b,[S]);if(C.length===0)return L.None;const r=await w.computeWordRanges(b.uri,C[0].range);if(!r)return L.None;const h=b.getWordUntilPosition(S);return delete r[h.word],new class extends L{distance(i,f){if(!S.equals(I.getPosition()))return 0;if(f.kind===17)return 2<<20;const u=typeof f.label=="string"?f.label:f.label.label,c=r[u];if((0,t.isFalsyOrEmpty)(c))return 2<<20;