)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=w;class I{static createFromRawTokenTheme(c,n){return this.createFromParsedTokenTheme(R(c),n)}static createFromParsedTokenTheme(c,n){return L(c,n)}constructor(c,n){this._colorMap=c,this._root=n,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}getThemeTrieElement(){return this._root.toExternalThemeTrieElement()}_match(c){return this._root.match(c)}match(c,n){let l=this._cache.get(n);if(typeof l>"u"){const s=this._match(n),a=S(n);l=(s.metadata|a<<8)>>>0,this._cache.set(n,l)}return(l|c<<0)>>>0}}e.TokenTheme=I;const b=/\b(comment|string|regex|regexp)\b/;function S(u){const c=u.match(b);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=S;function C(u,c){return u<c?-1:u>c?1:0}e.strcmp=C;class r{constructor(c,n,l){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=n,this._background=l,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new r(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,n,l){c!==-1&&(this._fontStyle=c),n!==0&&(this._foreground=n),l!==0&&(this._background=l),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=r;class h{constructor(c,n=new Map){if(this.mainRule=c,n instanceof Map)this.children=n;else{this.children=new Map;for(const l in n)this.children.set(l,n[l])}}}e.ExternalThemeTrieElement=h;class i{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}toExternalThemeTrieElement(){const c=new Map;return this._children.forEach((n,l)=>{c.set(l,n.toExternalThemeTrieElement())}),new h(this._mainRule,c)}match(c){if(c==="")return this._mainRule;const n=c.indexOf(".");let l,s;n===-1?(l=c,s=""):(l=c.substring(0,n),s=c.substring(n+1));const a=this._children.get(l);return typeof a<"u"?a.match(s):this._mainRule}insert(c,n,l,s){if(c===""){this._mainRule.acceptOverwrite(n,l,s);return}const a=c.indexOf(".");let o,g;a===-1?(o=c,g=""):(o=c.substring(0,a),g=c.substring(a+1));let d=this._children.get(o);typeof d>"u"&&(d=new i(this._mainRule.clone()),this._children.set(o,d)),d.insert(g,n,l,s)}}e.ThemeTrieElement=i;function f(u){const c=[];for(let n=1,l=u.length;n<l;n++){const s=u[n];c[n]=`.mtk${n} { color: ${s}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}e.generateTokensCSSForColorMap=f}),define(ae[110],le([1,0,48]),function(J,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.ModelConstants=e.PositionAffinity=e.isITextSnapshot=e.TrackedRangeStickiness=