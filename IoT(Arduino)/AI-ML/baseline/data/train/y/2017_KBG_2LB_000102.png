t.addDisposableListener)(this.element,f,u=>t.EventHelper.stop(u,!0)));for(const f of[t.EventType.MOUSE_DOWN,R.EventType.Tap])this._register((0,t.addDisposableListener)(this._label,f,u=>{u instanceof MouseEvent&&(u.detail>1||u.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,t.addDisposableListener)(this._label,t.EventType.KEY_UP,f=>{const u=new m.StandardKeyboardEvent(f);(u.equals(3)||u.equals(10))&&(t.EventHelper.stop(f,!0),this.visible?this.hide():this.show())}));const i=h(this._label);i&&this._register(i),this._register(R.Gesture.addTarget(this._label))}get element(){return this._element}get label(){return this._label}set tooltip(C){this._label&&(this._label.title=C)}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}isVisible(){return!!this.visible}onEvent(C,r){this.hide()}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=w;class I extends w{constructor(C,r){super(C,r),this.contextViewProvider=r.contextViewProvider}show(){super.show(),this.element.classList.add("active"),this.contextViewProvider.showContextView({getAnchor:()=>this.getAnchor(),render:C=>this.renderContents(C),onDOMEvent:(C,r)=>{this.onEvent(C,r)},onHide:()=>this.onHide()})}getAnchor(){return this.element}onHide(){this.element.classList.remove("active")}hide(){super.hide(),this.contextViewProvider?.hideContextView()}renderContents(C){return null}}e.Dropdown=I;class b extends w{constructor(C,r){super(C,r),this._actions=[],this._contextMenuProvider=r.contextMenuProvider,this.actions=r.actions||[],this.actionProvider=r.actionProvider,this.menuClassName=r.menuClassName||"",this.menuAsChild=!!r.menuAsChild}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:C=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=b}),define(ae[138],le([1,0,9,28]),function(J,e,t,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const R=new RegExp(`(\\\\)?\\$\\((${m.CSSIcon.iconNameExpression}(?:${m.CSSIcon.iconModifierExpression})?)\\)`,"g");function L(w){const I=new Array;let b,S=0,C=0;for(;(b=R.exec(w))!==null;){C=b.index||0,S<C&&I.push(w.substring(S,C)),S=(b.index||0)+b[0].length;const[,r,h]=b;I.push(r?`$(${h})`:k({id:h}))}return S<w.length&&I.push(w.substring(S)),I}e.renderLabelWithIcons=L;function k(w){const I=t.$("span");return I.classList.add(...m.CSSIcon.asClassNameArray(w)),I}e.renderIcon=k}),define(ae[179],l