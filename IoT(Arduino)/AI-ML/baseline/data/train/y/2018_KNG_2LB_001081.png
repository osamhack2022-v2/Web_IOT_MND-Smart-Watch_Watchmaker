e","polite");const Q=new k.CountBadge(G,{countFormat:(0,o.localize)(7,null)}),Y=t.append(W,v(".quick-input-action")),K=new L.Button(Y);K.label=(0,o.localize)(8,null),this._register(K.onDidClick(te=>{this.onDidAcceptEmitter.fire()}));const q=t.append(W,v(".quick-input-action")),ee=new L.Button(q);ee.label=(0,o.localize)(9,null),this._register(ee.onDidClick(te=>{this.onDidCustomEmitter.fire()}));const ie=t.append(U,v(`#${this.idPrefix}message.quick-input-message`)),re=this._register(new d.QuickInputList(P,this.idPrefix+"list",this.options));this._register(re.onChangedAllVisibleChecked(te=>{x.checked=te})),this._register(re.onChangedVisibleCount(te=>{j.setCount(te)})),this._register(re.onChangedCheckedCount(te=>{Q.setCount(te)})),this._register(re.onLeave(()=>{setTimeout(()=>{$.setFocus(),this.controller instanceof D&&this.controller.canSelectMany&&re.clearFocus()},0)})),this._register(re.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const oe=new I.ProgressBar(P);oe.getContainer().classList.add("quick-input-progress");const se=t.trackFocus(P);return this._register(se),this._register(t.addDisposableListener(P,t.EventType.FOCUS,te=>{this.previousFocusElement=te.relatedTarget instanceof HTMLElement?te.relatedTarget:void 0},!0)),this._register(se.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(a.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(t.addDisposableListener(P,t.EventType.FOCUS,te=>{$.setFocus()})),this._register(t.addDisposableListener(P,t.EventType.KEY_DOWN,te=>{const Z=new m.StandardKeyboardEvent(te);switch(Z.keyCode){case 3:t.EventHelper.stop(te,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:t.EventHelper.stop(te,!0),this.hide(a.QuickInputHideReason.Gesture);break;case 2:if(!Z.altKey&&!Z.ctrlKey&&!Z.metaKey){const ne=[".action-label.codicon"];P.classList.contains("show-checkboxes")?ne.push("input"):ne.push("input[type=text]"),this.getUI().list.isDisplayed()&&ne.push(".monaco-list");const ce=P.querySelectorAll(ne.join(", "));Z.shiftKey&&Z.target===ce[0]?(t.EventHelper.stop(te,!0),ce[ce.length-1].focus()):!Z.shiftKey&&Z.target===ce[ce.length-1]&&(t.EventHelper.stop(te,!0),ce[0].focus())}break}})),this.ui={container:P,styleSheet:_,leftActionBar:N,titleBar:O,title:M,description1:V,description2:H,rightActionBar:F,checkAll:x,filterContainer:z,inputBox:$,visibleCountContainer:X,visibleCount:j,countContainer:G,count:Q,okContainer:Y,ok:K,message:ie,customButtonContainer:q,customButton:ee,list:re,progressBar:oe,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:te=>this.show(te),hide:()=>this.hide(),setVisibilities:te=>this.setVisibilities(te),setComboboxAccessibility:te=>this.setComboboxAccessibility(te),setEnabled:te=>this.setEnabled(te),setContextKey:te=>this.options.setContextKey(te)},this.updateStyles(),this.ui}pick(P,_={},O=h.CancellationToken.None){return new Promise((N,M)=>{let F=H=>{F=N,_.onKeyMods?.(V.keyMods),N(H)};if(O.isCancellationRequested){F(void 0);return}const V=this.createQuickPick();let W;const x=[V,V.onDidAccept(()=>{if(V.canSelectMany)F(V.selectedItems.slice()),V.hide();else{const H=V.activeItems[0];H&&(F(H),V.hide())}}),V.onDidChangeActive(H=>{const U=H[0];U&&_.onDidFocus&&_.onDidFocus(U)}),V.onDidChangeSelection(H=>{if(!V.canSelectMany){const U=H[0];U&&(F(U),V.hide())}}),V.onDidTriggerItemButton(H=>_.onDidTriggerItemButton&&_.onDidTriggerItemButton({...H,removeItem:()=>{const U=V.items.indexOf(H.item);if(U!==-1){const z=V.items.slice(),$=z.splice(U,1),X=V.activeItems.filter(G=>G!==$[0]),j=V.keepScrollPosition;V.keepScrollPosition=!0,V.items=z,X&&(V.activeItems=X),V.keepScrollPosition=j}}})),V.onDidTriggerSeparatorButton(H=>_.onDidTriggerSeparatorButton?.(H)),V.onDidChangeValue(H=>{W&&!H&&(V.activeItems.length!==1||36,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900